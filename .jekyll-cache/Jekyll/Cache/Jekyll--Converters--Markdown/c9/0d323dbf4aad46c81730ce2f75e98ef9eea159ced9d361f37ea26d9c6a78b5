I"3<p>FridaLab is an app to study the framework called Frida.
Before I knew this app, I kept coming to Crackme’s Android, but it was difficult because I couldn’t understand exactly how to use the API that Frida pursues.
My primary purpose of writing this article is to summarize why Frida was used this way.<br />
Let’s get started ~</p>

<h2 id="-fridalab01">☝🏻 FridaLab01</h2>
<h4 id="change-class-challenge_01s-variable-chall01-to-1">Change class challenge_01’s variable ‘chall01’ to 1:</h4>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    <span class="kn">package</span> <span class="nn">uk.rossmarks.fridalab</span><span class="o">;</span>

    <span class="cm">/* loaded from: classes.dex */</span>
    <span class="kd">public</span> <span class="kd">class</span> <span class="nc">challenge_01</span> <span class="o">{</span>
        <span class="kd">static</span> <span class="kt">int</span> <span class="n">chall01</span><span class="o">;</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">int</span> <span class="nf">getChall01Int</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">chall01</span><span class="o">;</span>
        <span class="o">}</span>
    <span class="o">}</span>
</code></pre></div></div>
<p><br /></p>

<p>첫번째 문제는 challenge_01 클래스의 chall01 변수에 접근해 그 값을 1로 변경하는 것입니다.
이 문제를 해결하기 위해 생각할 것은 3가지 입니다.</p>

<blockquote>
  <p>1) challenge_01 클래스에 어떻게 접근할 것인지
2) challenge_01 클래스에서 chall01변수로 어떻게 접근해야할지
3) 변수에 접근하여 그 값을 대입하여 주기(변경하기) 위해서는 어떻게 해야할지</p>
</blockquote>

<p><br />차근차근 해결해봅시다.<br /></p>

<h3 id="클래스에-접근하는-방법">클래스에 접근하는 방법</h3>
<p>클래스를 통해 특정 메소드에 접근하는 방법으로는 두가지가 있습니다.
첫번째로 <code class="language-plaintext highlighter-rouge">Java.use(className)</code> API를 사용하는 것입니다.
두번째로는 <code class="language-plaintext highlighter-rouge">Java.choose(className,callback)</code> API를 이용하는 것입니다.</p>

<p>[ 각각의 설명에 대해서는 다른 블로그를 참조해주세요 ] -&gt; <a href="https://changkr28.tistory.com/entry/Frida-%EB%AC%B8%EB%B2%95">블로그</a></p>

<h3 id="메소드에-접근하는-방법">메소드에 접근하는 방법</h3>
<p>메소드에 접근하는 방법은 다른 프로그래밍 언어에서와 같습니다. <code class="language-plaintext highlighter-rouge">.</code> 을 이용하여 클래스의 메소드에 접근할 수 있습니다.</p>

<h3 id="변수에-접근하는-방법">변수에 접근하는 방법</h3>
<p>저는 이 부분에서 참조를 했는데요. <br />
값을 가져오는 방법으로 <code class="language-plaintext highlighter-rouge">value</code> 필드를 이용합니다.</p>

<h2 id="-code">✌🏻 Code</h2>
<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    <span class="kd">function</span> <span class="nx">sol1</span><span class="p">()</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">[&gt;] Start</span><span class="dl">"</span><span class="p">);</span>
        <span class="c1">//     Java.perform API를 이용하여 가상머신과 연결되어잇는지 확인</span>

    <span class="nx">Java</span><span class="p">.</span><span class="nx">perform</span><span class="p">(</span><span class="kd">function</span><span class="p">(){</span>
        <span class="c1">// 후킹하고자 하는 변수가 static으로 선언되어 있기 때문에 use</span>
        <span class="kd">var</span> <span class="nx">className</span> <span class="o">=</span> <span class="nx">Java</span><span class="p">.</span><span class="nx">use</span><span class="p">(</span><span class="dl">'</span><span class="s1">uk.rossmarks.fridalab.challenge_01</span><span class="dl">'</span><span class="p">);</span>

    <span class="c1">// 값 접근을 위해 value 사용</span>
    <span class="nx">className</span><span class="p">.</span><span class="nx">chall01</span><span class="p">.</span><span class="nx">value</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>

    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">[&gt;] 저장된 값: </span><span class="dl">"</span> <span class="o">+</span> <span class="nx">className</span><span class="p">.</span><span class="nx">chall01</span><span class="p">.</span><span class="nx">value</span><span class="p">);</span>

    <span class="p">});</span>
    <span class="p">}</span>

    <span class="nx">sol1</span><span class="p">();</span>
</code></pre></div></div>

:ET