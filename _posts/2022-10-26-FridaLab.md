---
title: "[Security] Android Frida"
excerpt: ""

categories:
  - Security
tags:
  - [Security, Frida]

permalink: /Security/FridaLab/

toc: true
toc_sticky: true

date: 2022-10-26
last_modified_at: 2022-10-26
---

FridaLab is an app to study the framework called Frida.
Before I knew this app, I kept coming to Crackme's Android, but it was difficult because I couldn't understand exactly how to use the API that Frida pursues.
My primary purpose of writing this article is to summarize why Frida was used this way.<br>
Let's get started ~

## â˜ğŸ» FridaLab01
#### Change class challenge_01's variable 'chall01' to 1:

```java
    package uk.rossmarks.fridalab;

    /* loaded from: classes.dex */
    public class challenge_01 {
        static int chall01;

    public static int getChall01Int() {
        return chall01;
        }
    }
```
<br>

ì²«ë²ˆì§¸ ë¬¸ì œëŠ” challenge_01 í´ë˜ìŠ¤ì˜ chall01 ë³€ìˆ˜ì— ì ‘ê·¼í•´ ê·¸ ê°’ì„ 1ë¡œ ë³€ê²½í•˜ëŠ” ê²ƒì…ë‹ˆë‹¤.
ì´ ë¬¸ì œë¥¼ í•´ê²°í•˜ê¸° ìœ„í•´ ìƒê°í•  ê²ƒì€ 3ê°€ì§€ ì…ë‹ˆë‹¤.

> 1) challenge_01 í´ë˜ìŠ¤ì— ì–´ë–»ê²Œ ì ‘ê·¼í•  ê²ƒì¸ì§€
> 2) challenge_01 í´ë˜ìŠ¤ì—ì„œ chall01ë³€ìˆ˜ë¡œ ì–´ë–»ê²Œ ì ‘ê·¼í•´ì•¼í• ì§€
> 3) ë³€ìˆ˜ì— ì ‘ê·¼í•˜ì—¬ ê·¸ ê°’ì„ ëŒ€ì…í•˜ì—¬ ì£¼ê¸°(ë³€ê²½í•˜ê¸°) ìœ„í•´ì„œëŠ” ì–´ë–»ê²Œ í•´ì•¼í• ì§€

<br>ì°¨ê·¼ì°¨ê·¼ í•´ê²°í•´ë´…ì‹œë‹¤.<br>

### í´ë˜ìŠ¤ì— ì ‘ê·¼í•˜ëŠ” ë°©ë²•
í´ë˜ìŠ¤ë¥¼ í†µí•´ íŠ¹ì • ë©”ì†Œë“œì— ì ‘ê·¼í•˜ëŠ” ë°©ë²•ìœ¼ë¡œëŠ” ë‘ê°€ì§€ê°€ ìˆìŠµë‹ˆë‹¤.
ì²«ë²ˆì§¸ë¡œ `Java.use(className)` APIë¥¼ ì‚¬ìš©í•˜ëŠ” ê²ƒì…ë‹ˆë‹¤.
ë‘ë²ˆì§¸ë¡œëŠ” `Java.choose(className,callback)` APIë¥¼ ì´ìš©í•˜ëŠ” ê²ƒì…ë‹ˆë‹¤.

[ ê°ê°ì˜ ì„¤ëª…ì— ëŒ€í•´ì„œëŠ” ë‹¤ë¥¸ ë¸”ë¡œê·¸ë¥¼ ì°¸ì¡°í•´ì£¼ì„¸ìš” ] -> [ë¸”ë¡œê·¸](https://changkr28.tistory.com/entry/Frida-%EB%AC%B8%EB%B2%95)

### ë©”ì†Œë“œì— ì ‘ê·¼í•˜ëŠ” ë°©ë²•
ë©”ì†Œë“œì— ì ‘ê·¼í•˜ëŠ” ë°©ë²•ì€ ë‹¤ë¥¸ í”„ë¡œê·¸ë˜ë° ì–¸ì–´ì—ì„œì™€ ê°™ìŠµë‹ˆë‹¤. `.` ì„ ì´ìš©í•˜ì—¬ í´ë˜ìŠ¤ì˜ ë©”ì†Œë“œì— ì ‘ê·¼í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

### ë³€ìˆ˜ì— ì ‘ê·¼í•˜ëŠ” ë°©ë²•
ì €ëŠ” ì´ ë¶€ë¶„ì—ì„œ ì°¸ì¡°ë¥¼ í–ˆëŠ”ë°ìš”. <br>
ê°’ì„ ê°€ì ¸ì˜¤ëŠ” ë°©ë²•ìœ¼ë¡œ `value` í•„ë“œë¥¼ ì´ìš©í•©ë‹ˆë‹¤.

## âœŒğŸ» Code
```javascript
    function sol1() {
        console.log("[>] Start");
        //     Java.perform APIë¥¼ ì´ìš©í•˜ì—¬ ê°€ìƒë¨¸ì‹ ê³¼ ì—°ê²°ë˜ì–´ì‡ëŠ”ì§€ í™•ì¸

    Java.perform(function(){
        // í›„í‚¹í•˜ê³ ì í•˜ëŠ” ë³€ìˆ˜ê°€ staticìœ¼ë¡œ ì„ ì–¸ë˜ì–´ ìˆê¸° ë•Œë¬¸ì— use
        var className = Java.use('uk.rossmarks.fridalab.challenge_01');

    // ê°’ ì ‘ê·¼ì„ ìœ„í•´ value ì‚¬ìš©
    className.chall01.value = 1;

    console.log("[>] ì €ì¥ëœ ê°’: " + className.chall01.value);

    });
    }

    sol1();
```







